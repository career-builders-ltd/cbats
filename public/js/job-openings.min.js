$(document).ready(function(){var e=$("meta[name='base_url']").attr("content");$.ajaxSetup({headers:{"X-CSRF-TOKEN":$("meta[name='csrf_token']").attr("content"),}});$(".init-datepicker").datepicker({format:"M dd, yyyy",orientation:"left",autoclose:true});$("#num_openings").TouchSpin({min:0,max:25,step:1,decimals:0,boostat:1,maxboostedstep:1,postfix:"Openings"});$("#exp_years").TouchSpin({min:0,max:10,step:1,decimals:0,boostat:1,maxboostedstep:1,postfix:"Years"});$("#exp_months").TouchSpin({min:0,max:11,step:1,decimals:0,boostat:1,maxboostedstep:1,postfix:"Months"});$("#job_description").summernote({height:300});$("#ov_status_edit,#ov_priority_edit").select2({width:"100%",});var d="";function c(g){title=g.data.ov_title.split(" : ");$("#pg_jobTitle").html(title[1]).parent().parent().removeClass("hide");$.each(g.data,function(h,i){elem="#"+h;$(elem).html(i)});if(g.stdset!=""){if(d!=""){d.destroy()}$("#ov_status_view").ionRangeSlider({grid:!0,from:g.stdset.status,values:g.stdset.order_status});d=$("#ov_status_view").data("ionRangeSlider")}$("ul[role='tab-options'][section='jobs']").find("li > a").removeAttr("disabled");$("button[btn-role='edit-order']").on("click",function(){var h=$(this).attr("hrefurl");var i=$("ul[role='tab-options'][section='jobs']").find('a[href="'+h+'"]');f(g,i);$("ul[role='tab-options'][section='jobs']").find("li > a").attr("disabled","disabled");i.removeClass("hide").removeAttr("disabled").trigger("click");i.parent().css("display","block")});return true}function f(h,j){var i,g;i=function(){},g=function(){j.attr("disabled","disabled");j.parent().css("display","none");$("ul[role='tab-options'][section='jobs']").find("li > a").eq(0).removeAttr("disabled").trigger("click")};$("button[btn-role='cancel-order']").on("click",g);$("button[btn-role='update-order']").on("click",i)}var a="";$("#joblist").find("a[data-resp='tab']").on("click",function(){respID=$(this).attr("data-orderId");respTab=$(this).attr("hrefurl");App.blockUI();$.ajax({url:e+"load-job",data:{jobid:respID},method:"post",dataType:"json",success:function(g){App.unblockUI();if(c(g)){$("ul[role='tab-options'][section='jobs']").find('a[href="'+respTab+'"]').removeAttr("disabled").trigger("click");a=respTab}},error:function(g){App.unblockUI()}})});function b(){$("ul[role='tab-options'][section='jobs']").find('a[href="#editjob"]').parent().css("display","none");$("ul[role='tab-options'][section='jobs']").find("li > a").attr("disabled","disabled");$("ul[role='tab-options'][section='jobs']").find('a[href="#joblist"]').removeAttr("disabled");if($("#pg_jobTitle").html()!=""){$("#pg_jobTitle").html("").parent().parent().addClass("hide")}}$("ul.nav.nav-tabs[role='tab-options'][section='jobs']").find("a[data-toggle='tab']").on("click",function(g){if($(this).attr("disabled")){return false;g.stopImmediatePropagation()}if($(this).attr("href")=="#joblist"){b()}})});